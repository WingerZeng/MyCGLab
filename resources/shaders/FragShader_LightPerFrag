#version 430 core
uniform vec4 ourColor;
uniform vec4 Le;
out vec4 FragColor;
in vec3 aNormal;
in vec3 aWorldPos;
struct Light{
vec3 pos; 
vec3 ambient; 
vec3 bound[2];
vec3 emission;
};
uniform Light lights[10];
uniform int lightCount;

void main(){
	FragColor += Le;
	for(int i=0;i<lightCount;i++){
		vec3 totLight = lights[i].ambient+max(dot(aNormal,normalize(lights[i].pos-aWorldPos)),0)*lights[i].emission;
		FragColor += ourColor*(vec4(totLight,1.0)); 
	}
}